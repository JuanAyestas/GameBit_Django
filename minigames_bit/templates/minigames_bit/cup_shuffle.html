{% extends "app_bit/base.html" %}{% load static %}
<!-- extended from -->
{% block meta_tag %}
<meta property="og:url" content="{{url}}{% url 'gamebit-cup' %}">
<meta property="og:title" content="Cup Shuffle">
<meta property="og:description" content="Try to flip a coin and let the RNG decide for you!">
<meta property="og:image" content="{% static 'app_bit/home_pictures/About_us_collage.jpg' %}">
<meta property="og:image:alt" content="Cup Shuffle"> {% endblock meta_tag %}
<!---->
{% block other_styles %}
<link rel="stylesheet" type="text/css" href="{% static 'minigames_bit/cup_styles.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<!---->
{% endblock other_styles %}
<!---->
{% block title %}Cup Shuffle{% endblock title %}
<!---->
{% block bread %}
<li class="breadcrumb-item active" aria-current="page"><a href="{% url 'gamebit-minigames' %}">Minigames</a></li>
<li class="breadcrumb-item active" aria-current="page">Cup Shuffle</li>
{% endblock bread %}
<!---->
{% block body %}
<div id="Title" class="d-flex justify-content-center mt-5 mb-5">
    <button id="StartButton" class="btn btn-primary">Start Game</button>
</div>
<div class="minigame">
    <div id="Circle" class="big_circle">
        <div class="smaller_circle"></div>
        <div class="yellow_circle"></div>
        <div class="red_circle"></div>
        <div class="green_circle"></div>
        <div class="blue_circle"></div>
    </div>
    <div class="hats">
        <div id="SingleHat" class="d-flex justify-content-center">
            <input type="checkbox" id="checkbox_hat_1">
            <label for="checkbox_hat_1" class="hat_label mb-0">
                <div class="hat">
                    <p class="logo_bit">Game-Bit</p>
                    <p class="logo_council">Council</p>
                    <div class="hat_top"></div>
                    <div class="hat_body"></div>
                    <div class="hat_left_side"></div>
                    <div class="hat_right_side"></div>
                    <div class="hat_bottom"></div>
                </div>
            </label>
        </div>
        <div id="TwoHats" class="d-flex justify-content-between">
            <input type="checkbox" id="checkbox_hat_2">
            <label for="checkbox_hat_2" class="hat_label mb-0">
                <div id="Hat2" class="hat">
                    <p class="logo_bit">Game-Bit</p>
                    <p class="logo_council">Council</p>
                    <div class="hat_top"></div>
                    <div class="hat_body"></div>
                    <div class="hat_left_side"></div>
                    <div class="hat_right_side"></div>
                    <div class="hat_bottom"></div>
                </div>
            </label>
            <input type="checkbox" id="checkbox_hat_3">
            <label for="checkbox_hat_3" class="hat_label mb-0">
                <div id="Hat3" class="hat">
                    <p class="logo_bit">Game-Bit</p>
                    <p class="logo_council">Council</p>
                    <div class="hat_top"></div>
                    <div class="hat_body"></div>
                    <div class="hat_left_side"></div>
                    <div class="hat_right_side"></div>
                    <div class="hat_bottom"></div>
                </div>
            </label>
        </div>
    </div>
</div>
<article id="CupShare" class="d-flex justify-content-center">
    <div class="a2a_kit a2a_kit_size_32 a2a_floating_style a2a_vertical_style a2a_minigames" data-a2a-url="{{url}}{% url 'gamebit-cup' %}" data-a2a-title="GameBit Council - Cup Shuffle">
        <a class="a2a_button_facebook"></a>
        <a class="a2a_button_twitter"></a>
        <a class="a2a_button_whatsapp"></a>
        <a class="a2a_button_reddit"></a>
        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
    </div>
</article>
{% endblock body %}
<!---->
{% block script %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.10.2/underscore-min.js"></script>
<script>
    $(document).ready(function() {
        var hat1 = $("#Hat1"),
            hat2 = $("#Hat2"),
            hat3 = $("#Hat4"),
            circle = $("#Circle"),
            startButton = $("#StartButton");
        startButton.on("click", function(event) {
            event.preventDefault();
            circle.show();
            $("#StartButton").html('Restart Game');
            $("#StartButton").attr('href', "javascript:location.reload();");
            var hatsOffsets = window.getComputedStyle(document.body);

            var first = hatsOffsets.getPropertyValue('--hat_1');
            var spacingFirst = hatsOffsets.getPropertyValue('--hat_top_1');

            var second = hatsOffsets.getPropertyValue('--hat_2');
            var third = hatsOffsets.getPropertyValue('--hat_3');
            var spacing = hatsOffsets.getPropertyValue('--hat_both');

            var randomOffset = _.sample([first, second, third])
            if (randomOffset == first) {
                $("div.big_circle").css({
                    "left": first,
                    "top": spacingFirst
                })
            } else if (randomOffset == second) {
                $("div.big_circle").css({
                    "left": second,
                    "top": spacing
                })
            } else if (randomOffset == third) {
                $("div.big_circle").css({
                    "left": third,
                    "top": spacing
                })
            }
        })
    });
</script>
{% endblock script %}